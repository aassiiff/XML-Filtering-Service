<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
    
    <rich:popupPanel id="popup" modal="false" autosized="true"
        resizeable="false">
        <f:facet name="header">
            <h:outputText value="File Upload Panel" />
        </f:facet>
        <f:facet name="controls">
            <h:outputLink value="#"
                onclick="#{rich:component('popup')}.hide(); return false;">
                    X
                </h:outputLink>
        </f:facet>
        
        <h:form>		
			<h:panelGrid columns="2" columnClasses="top,top">
				<rich:fileUpload fileUploadListener="#{fileUploadBean.listener}"
					id="upload" acceptedTypes="xml, xsams" addLabel="Upload XSAMS" noDuplicate="true" >
					<a4j:ajax event="uploadcomplete" execute="@none" render="info, fileListPanel, emptyFileList" />
				</rich:fileUpload>
			</h:panelGrid>
			
			<a4j:commandButton value="Finish" render="fileListPanel, emptyFileList"  onclick="#{rich:component('popup')}.hide()">
			</a4j:commandButton>
		</h:form>
    </rich:popupPanel>
    
</ui:composition>
